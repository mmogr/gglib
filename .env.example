# gglib Environment Configuration
#
# This file contains example environment variable configuration for development.
# Copy this file to `.env` to customize your local development environment.

# =============================================================================
# MODEL STORAGE
# =============================================================================

# Directory where downloaded GGUF models are stored.
# Leave commented or blank to use the default ~/.local/share/llama_models.
# Paths support "~/" expansion and should be absolute after expansion.
GGLIB_MODELS_DIR=~/.local/share/llama_models

# =============================================================================
# WEB SERVER PORT (Development Only)
# =============================================================================

# Port for the gglib web API server and frontend dev proxy
# This MUST use the VITE_ prefix to be accessible to both:
# - Rust backend (via clap --env flag)
# - Vite dev server (via import.meta.env)
# - Vite config (via loadEnv())
#
# Configuration precedence:
# 1. CLI argument: `cargo run -- web --port 9999`
# 2. Environment variable: VITE_GGLIB_WEB_PORT=9999
# 3. Database settings (if configured)
# 4. Default: 9887
#
# Default: 9887
VITE_GGLIB_WEB_PORT=9887

# =============================================================================
# NOTES
# =============================================================================
#
# Why VITE_ prefix?
# - Vite requires VITE_ prefix to expose variables to the client bundle
# - Rust can read any environment variable name
# - Using VITE_ prefix ensures single source of truth across stack
#
# Production behavior:
# - VITE_GGLIB_WEB_PORT is IGNORED in production builds
# - Frontend uses relative paths (e.g., `/api/models` instead of `http://localhost:9887/api/models`)
# - This ensures the app works regardless of deployment port or domain
#
# Tauri behavior:
# - Desktop app uses dynamic port discovery via IPC
# - Environment variables have no effect on Tauri builds
# - See src/services/platform/serverLogs.ts for platform detection
#
# For more information, see:
# - src/config/api.ts - Frontend API configuration
# - crates/gglib-cli/src/commands.rs - Backend CLI configuration
# - vite.config.ts - Dev proxy configuration
